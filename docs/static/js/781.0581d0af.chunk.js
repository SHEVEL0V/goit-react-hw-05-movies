"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[781],{781:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var r=n(885),i=n(66),c=n(791),a=n(501),u=n(642),s=n(184);function o(){var t=(0,c.useState)(""),e=(0,r.Z)(t,2),n=e[0],o=e[1],l=(0,c.useState)([]),_=(0,r.Z)(l,2),f=_[0],h=_[1],p=(0,a.lr)(),d=(0,r.Z)(p,2),b=d[0],m=d[1],g="/search/movie",v="&language=en-US&query=".concat(n||b.get("search"),"&page=1&include_adult=true");(0,c.useEffect)((function(){(n||b.get("search"))&&(m({search:n}),(0,i.Z)(g,v).then((function(t){return h(t.results)})))}),[v,g,b,m,n]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.input.value;o(e)},children:[(0,s.jsx)("input",{className:u.Z.input,name:"input"}),(0,s.jsx)("button",{className:u.Z.button,type:"sabmit",children:"search"})]}),(0,s.jsx)("ul",{children:f.map((function(t){return(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})]})}},66:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(861),i=n(757),c=n.n(i),a="https://api.themoviedb.org/3",u="4fc86b17259ac63837b074fbab2b63b2";function s(){return o.apply(this,arguments)}function o(){return o=(0,r.Z)(c().mark((function t(){var e,n,r,i,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:"",r="".concat(a).concat(e,"?api_key=").concat(u).concat(n),t.next=5,fetch(r);case 5:return i=t.sent,t.abrupt("return",i.ok?i.json():Promise.reject(new Error("Not found")));case 7:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}},642:function(t,e){e.Z={card:"stile_card__l-gbO",cards:"stile_cards__fPNUb",img:"stile_img__9BN4r",input:"stile_input__+nyRk",imgCast:"stile_imgCast__Y8THD",button:"stile_button__FMnO5"}}}]);
//# sourceMappingURL=781.0581d0af.chunk.js.map